(this["webpackJsonpcreate-react-app"]=this["webpackJsonpcreate-react-app"]||[]).push([[0],{105:function(e,t,n){e.exports={"cart-items":"BookDetails_cart-items__3noH7",total:"BookDetails_total__1jjVv",actions:"BookDetails_actions__23wzO","button--alt":"BookDetails_button--alt__1KExB",button:"BookDetails_button__1Lr9c"}},106:function(e,t,n){e.exports={loginForm:"Login_loginForm__3AlQf",textField:"Login_textField__1tiZH"}},115:function(e,t,n){e.exports={footer:"Footer_footer__1wbuT"}},122:function(e,t,n){e.exports={pageContainer:"Layout_pageContainer__2WPZ8"}},123:function(e,t,n){e.exports={form:"Register_form__1kKs6"}},124:function(e,t,n){e.exports={form:"Contact_form__ug9La",textField:"Contact_textField__2o-Rp"}},154:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(55),i=n.n(r),o=n(206),s=n(217),l=n(26),j=n(22),u=n(221),b=n(226),d=n(222),x=n(223),h=n(115),O=n.n(h),m=n(0);function f(){return Object(m.jsx)(u.a,{className:O.a.footer,position:"static",color:"primary",children:Object(m.jsx)(b.a,{maxWidth:"md",children:Object(m.jsx)(d.a,{children:Object(m.jsx)(x.a,{variant:"body1",sx:{mx:"auto"},color:"inherit",children:"\xa9 2021 Akib All rights reserved"})})})})}var p=n(208),v=n(224),g=n(84),_=n.n(g),y=n(216),k=n(76),C=n.n(k),w=n(209),A=n(14),N=n(58),S=n(119);console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyAM8GgwuYEF2r2-5x9ocFRi1fX8nkriCOg",REACT_APP_AUTH_DOMAIN:"book-worm-8d826.firebaseapp.com",REACT_APP_PROJECT_ID:"book-worm-8d826",REACT_APP_STORAGE_BUCKET:"book-worm-8d826.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"340284031424",REACT_APP_APP_ID:"\"1:340284031424:web:b5c531ab42243ea0c48825'"}));var I={apiKey:"AIzaSyAM8GgwuYEF2r2-5x9ocFRi1fX8nkriCOg",authDomain:"book-worm-8d826.firebaseapp.com",projectId:"book-worm-8d826",storageBucket:"book-worm-8d826.appspot.com",messagingSenderId:"340284031424",appId:"\"1:340284031424:web:b5c531ab42243ea0c48825'"};(function(){Object(S.a)(I)})();var R=function(){var e=Object(c.useState)({}),t=Object(A.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!0),i=Object(A.a)(r,2),o=i[0],s=i[1],l=Object(N.c)(),j=new N.a;return Object(c.useEffect)((function(){console.log("Checking User Auth State");var e=Object(N.d)(l,(function(e){a(e||{}),s(!1)}));return function(){return e}}),[]),{user:n,loading:o,signInUsingGoogle:function(){return Object(N.f)(l,j).finally((function(){s(!1)}))},logOut:function(){s(!0),Object(N.g)(l).then((function(){a({})})).finally((function(){s(!1)}))},emailSignup:function(e,t){return Object(N.b)(l,e,t)},emailLogin:function(e,t){return Object(N.e)(l,e,t)}}},E=Object(c.createContext)(),F=function(e){var t=e.children,n=R();return Object(m.jsx)(E.Provider,{value:n,children:t})},T=function(){return Object(c.useContext)(E)},D=n(35),P=n(205),W=n(207),q=n(218),B=n(227),L=n(215),H=n(228),G=n(229),J=n(121),K=n.n(J);var U=function(){var e=Object(c.useState)(!1),t=Object(A.a)(e,2),n=t[0],a=t[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(q.a,{open:n,onClose:function(){return a(!1)},children:Object(m.jsxs)(B.a,{children:[Object(m.jsx)(L.a,{onClick:function(){return a(!1)},children:Object(m.jsx)(H.a,{children:Object(m.jsx)(l.b,{to:"/",sx:{textDecoration:"none",color:"primary",fontSize:"20px"},children:"Home"})})}),Object(m.jsx)(G.a,{}),Object(m.jsx)(L.a,{onClick:function(){return a(!1)},children:Object(m.jsx)(H.a,{children:Object(m.jsx)(l.b,{to:"/about",sx:{textDecoration:"none",color:"primary",fontSize:"20px"},children:"About"})})}),Object(m.jsx)(G.a,{}),Object(m.jsx)(L.a,{onClick:function(){return a(!1)},children:Object(m.jsx)(H.a,{children:Object(m.jsx)(l.b,{to:"/contact",children:"Contact"})})}),Object(m.jsx)(G.a,{})]})}),Object(m.jsx)(v.a,{onClick:function(){return a(!n)},sx:{color:"white"},children:Object(m.jsx)(K.a,{})})]})},M=n(86),Y=n.n(M);var z=function(){var e=Object(D.a)(),t=Object(P.a)(e.breakpoints.down("md"));return Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)(o.a,{}),Object(m.jsx)(d.a,{children:t?Object(m.jsx)(U,{}):Object(m.jsxs)(W.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-start",mx:"auto"},children:[Object(m.jsx)(l.c,{to:"/",className:Y.a.Nav_link,children:"Home"}),Object(m.jsx)(l.c,{to:"/about",className:Y.a.Nav_link,children:"About"}),Object(m.jsx)(l.c,{to:"/contact",className:Y.a.Nav_link,children:"Contact"})]})})]})},V=a.a.createContext({items:[],totalAmount:0,addItem:function(){},removeItem:function(){},cartInit:function(){},clearCart:function(){}});function $(){var e=T(),t=e.user,n=e.logOut,a=Object(c.useContext)(V);console.log(t);var r=a.items.length;return Object(m.jsx)(c.Fragment,{children:Object(m.jsx)(p.a,{sx:{display:"block",mb:10},children:Object(m.jsx)(u.a,{sx:{py:2,px:3},position:"fixed",children:Object(m.jsxs)(d.a,{variant:"dense",children:[Object(m.jsx)(x.a,{variant:"h6",color:"inherit",component:"h6",sx:{flexGrow:1},children:Object(m.jsx)(l.c,{className:C.a.Logo,activeClassName:C.a.activeRoute,to:"/home",children:"Book Worm"})}),Object(m.jsx)(z,{}),t.email&&Object(m.jsxs)("span",{style:{color:"white"},children:["Hi ",t.displayName," "]}),t.email?Object(m.jsxs)(v.a,{onClick:n,sx:{mx:1},edge:"end",color:"secondary","aria-label":"account",children:[Object(m.jsx)(x.a,{children:"Logout"}),Object(m.jsx)(w.a,{sx:{mr:3}})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x.a,{children:Object(m.jsx)(l.c,{className:C.a.Nav_link,to:"/login",children:"Login"})}),Object(m.jsx)(w.a,{sx:{mr:3}})]}),Object(m.jsx)(l.c,{className:C.a.cart,to:"/cart",children:Object(m.jsx)(y.a,{badgeContent:r,color:"error",children:Object(m.jsx)(v.a,{edge:"end",color:"inherit","aria-label":"cart",children:Object(m.jsx)(_.a,{})})})})]})})})})}function Z(){return Object(m.jsx)("div",{children:Object(m.jsx)(W.a,{sx:{my:25,mx:"auto",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:Object(m.jsx)("h1",{children:"404"})})})}var X=n.p+"static/media/books-header.c3279765.jpg",Q=n(210),ee=n(219),te=function(){var e=Object(c.useState)([]),t=Object(A.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),i=Object(A.a)(r,2),o=i[0],s=i[1];return Object(c.useEffect)((function(){fetch("./data.json").then((function(e){return e.json()})).then((function(e){console.log(e),a(e),s(e)})).catch((function(e){console.log(e)}))}),[]),[n,o,s]},ne=function(){return localStorage.getItem("shopping_cart")},ce=function(e){localStorage.setItem("shopping_cart",JSON.stringify(e))},ae=n(230),re=n(233),ie=n(232),oe=n(231),se=n(234),le=n(235);function je(e){var t=e.book,n=t.id,a=t.name,r=t.description,i=t.price,o=t.image,s=c.useContext(V),l=Object(j.g)();return Object(m.jsx)(ee.a,{justifyContent:!0,item:!0,md:3,xs:12,children:Object(m.jsxs)(ae.a,{sx:{},children:[Object(m.jsxs)(oe.a,{onClick:function(){return function(e){l.push("/book/".concat(e))}(n)},children:[Object(m.jsx)(ie.a,{component:"img",height:"350",image:o,alt:a}),Object(m.jsxs)(re.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(m.jsx)(x.a,{gutterBottom:!0,variant:"h5",component:"div",children:a}),Object(m.jsx)(x.a,{variant:"body2",color:"text.secondary",children:r}),Object(m.jsxs)(x.a,{gutterBottom:!0,variant:"h6",component:"div",children:["Price: ",i]})]})]}),Object(m.jsx)(se.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(m.jsx)(le.a,{onClick:function(){return s.addItem(e.book)},color:"primary",variant:"contained",children:"   Add To cart"})})]})})}function ue(){var e=te(),t=Object(A.a)(e,3),n=t[0],a=t[1],r=t[2];return Object(m.jsx)(c.Fragment,{children:Object(m.jsxs)(b.a,{sx:{textAlign:"center"},children:[Object(m.jsx)(Q.a,{onChange:function(e){return function(e){var t=e.target.value,c=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));r(c)}(e)},sx:{my:3},fullWidth:!0,label:"Search",id:"fullWidth"}),Object(m.jsx)("h1",{children:"Top Books"}),Object(m.jsx)(ee.a,{justifyContent:"center",alignItems:"center",container:!0,spacing:5,children:a.length>0?a.map((function(e){return Object(m.jsx)(je,{book:e},e.id)})):Object(m.jsx)("h1",{children:"No Books Found "})})]})})}function be(){return Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)(W.a,{component:"img",sx:{display:"block",height:550,maxHeight:{xs:233,md:550},maxWidth:{xs:1,md:1},width:"100%"},alt:"Cover",src:X}),Object(m.jsx)(ue,{})]})}function de(){return Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:"Shop"})})}var xe=n(122),he=n.n(xe);function Oe(e){var t=e.children;return Object(m.jsx)(c.Fragment,{children:Object(m.jsx)("div",{className:he.a.pageContainer,children:t})})}var me=n(19),fe=n(38),pe=function(e){var t=Object(c.useState)([]),n=Object(A.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){if(e.length){var t=function(e){var t=ne();if(t){var n=JSON.parse(t),c=[],a=function(t){var a=e.find((function(e){return e.id==t}));if(console.log(a),a){var r=n[t];a.quantity=r,c.push(a)}};for(var r in n)a(r);return c}return{}}(e);r(t)}}),[e]),[a,r]},ve={items:[],totalAmount:0},ge=function(e,t){if("INIT"===t.type){console.log("INNIT Action called");var n,c=0;if(null===t||void 0===t?void 0:t.items)null===(n=t.items)||void 0===n||n.forEach((function(e){c+=e.quantity*e.price}));return{items:null===t||void 0===t?void 0:t.items,totalAmount:c}}if("ADD"===t.type){var a,r=e.items.findIndex((function(e){return e.id===t.item.id})),i=e.items[r];if(i){var o=Object(fe.a)(Object(fe.a)({},i),{},{quantity:i.quantity+1});(a=Object(me.a)(e.items))[r]=o}else a=e.items.concat(Object(fe.a)(Object(fe.a)({},t.item),{},{quantity:1}));var s=e.totalAmount+t.item.price;return function(e){var t=ne(),n={};if(t)if((n=JSON.parse(t))[e]){var c=n[e]+1;n[e]=c}else n[e]=1;else n[e]=1;ce(n)}(t.item.id),{items:a,totalAmount:s}}if("REMOVE"===t.type){var l,j=e.items.findIndex((function(e){return e.id===t.item.id}));if(1==t.item.quantity)l=e.items.filter((function(e){return e.id!==t.item.id}));else{var u=Object(fe.a)(Object(fe.a)({},t.item),{},{quantity:t.item.quantity-1});(l=Object(me.a)(e.items))[j]=u}var b=e.totalAmount-t.item.price;return function(e){var t=ne();if(t){var n=JSON.parse(t);delete n[e],ce(n)}}(t.item.id),{items:l,totalAmount:b}}return"CLEAR"===t.type?{items:[],totalAmount:0}:ve},_e=function(e){var t=te(),n=Object(A.a)(t,3),a=n[0],r=(n[1],n[2],pe(a)),i=Object(A.a)(r,2),o=i[0],s=(i[1],Object(c.useReducer)(ge,ve)),l=Object(A.a)(s,2),j=l[0],u=l[1];Object(c.useEffect)((function(){o.length>0&&u({type:"INIT",items:o})}),[o]);var b={items:j.items,totalAmount:j.totalAmount,addItem:function(e){u({type:"ADD",item:e})},removeItem:function(e){u({type:"REMOVE",item:e})},cartInit:function(e){u({type:"INIT",items:e})},clearCart:function(){u({type:"CLEAR",items:[]})}};return Object(m.jsx)(V.Provider,{value:b,children:e.children})},ye=n(77),ke=n.n(ye),Ce=function(e){var t,n="$".concat(null===(t=e.price)||void 0===t?void 0:t.toFixed(2));return Object(m.jsxs)("li",{className:ke.a["cart-item"],children:[Object(m.jsxs)(W.a,{children:[Object(m.jsx)(W.a,{component:"img",src:e.img,sx:{width:"30%"}}),Object(m.jsx)("h2",{children:e.name}),Object(m.jsx)("span",{className:ke.a.price,children:n}),Object(m.jsxs)("span",{className:ke.a.amount,children:["x ",e.quantity]})]}),Object(m.jsxs)("div",{className:ke.a.actions,children:[Object(m.jsx)("button",{onClick:e.onRemove,children:"\u2212"}),Object(m.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})},we=n(78),Ae=n.n(we),Ne=function(){var e=Object(c.useContext)(V),t="$".concat(e.totalAmount.toFixed(2)),n=e.items.length>0,a=Object(j.g)(),r=function(t){e.removeItem(t)},i=function(t){e.addItem(Object(fe.a)(Object(fe.a)({},t),{},{amount:1}))},o=Object(m.jsx)("ul",{className:Ae.a["cart-items"],children:e.items.map((function(e){return Object(m.jsx)(Ce,{name:e.name,quantity:e.quantity,price:e.price,img:e.image,onRemove:r.bind(null,e),onAdd:i.bind(null,e)},e.id)}))});return Object(m.jsxs)(W.a,{sx:{textAlign:"center",mx:"auto",maxWidth:"80%",my:20},children:[n?o:Object(m.jsx)("h1",{children:"Cart is empty"}),n&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:Ae.a.total,children:[Object(m.jsx)("span",{children:"Total Amount"}),Object(m.jsx)("span",{children:t})]}),Object(m.jsx)("div",{className:Ae.a.actions,children:Object(m.jsx)("button",{onClick:function(){a.push("/checkout")},className:Ae.a.button,children:"Checkout"})})]})]})},Se=n(105),Ie=n.n(Se),Re=function(){var e=Object(j.i)().id,t=Object(c.useState)({}),n=Object(A.a)(t,2),r=n[0],i=n[1],o=a.a.useContext(V);return Object(c.useEffect)((function(){fetch("./../data.json").then((function(e){return e.json()})).then((function(t){var n=t.find((function(t){return t.id==e}));i(n)})).catch((function(e){console.log(e)}))}),[]),Object(m.jsxs)(b.a,{sx:{justifyContent:"space-between",display:"flex",flexDirection:"row",my:"10%",width:"50%"},children:[Object(m.jsx)(W.a,{component:"img",src:r.image,sx:{width:"30%"}}),Object(m.jsxs)(W.a,{children:[Object(m.jsx)("h1",{children:r.name}),Object(m.jsx)("p",{children:r.description}),Object(m.jsxs)("h3",{children:["$",r.price]}),Object(m.jsxs)("h5",{children:["Category:",r.category]}),Object(m.jsx)("div",{className:Ie.a.actions,children:Object(m.jsx)("button",{onClick:function(){return o.addItem(r)},className:Ie.a.button,children:"Add To Cart"})})]})]})};var Ee=Object(j.j)((function(e){var t=e.history,n=e.children;return Object(c.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[]),Object(m.jsx)(c.Fragment,{children:n})})),Fe=n(3),Te=n.n(Fe),De=n(5),Pe=n(213),We=n(236),qe=n(106),Be=n.n(qe),Le=function(){var e,t=T().signInUsingGoogle,n=Object(j.h)(),a=Object(j.g)(),r=(null===(e=n.state)||void 0===e?void 0:e.from)||"/home",i=Object(c.useRef)(),o=Object(c.useRef)(),s=T().emailLogin,u=Object(c.useState)(""),d=Object(A.a)(u,2),x=d[0],h=d[1],O=Object(c.useState)(!1),f=Object(A.a)(O,2),p=f[0],v=f[1];function g(){return(g=Object(De.a)(Te.a.mark((function e(t){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,h(""),v(!0),e.next=6,s(i.current.value,o.current.value);case 6:a.push(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),h("Failed to log in");case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(m.jsx)(b.a,{sx:{width:"30%",textAlign:"center",my:20},children:Object(m.jsxs)("div",{className:Be.a.loginForm,children:[Object(m.jsx)("h2",{children:"Login"}),x&&Object(m.jsx)(Pe.a,{severity:"error",children:x}),Object(m.jsx)(Q.a,{fullWidth:!0,inputRef:i,sx:{my:1},id:"outlined-basic",label:"Email",variant:"outlined"}),Object(m.jsx)("br",{}),Object(m.jsx)(Q.a,{fullWidth:!0,inputRef:o,type:"password",sx:{my:1},id:"outlined-basic",label:"Password",variant:"outlined"}),Object(m.jsx)("br",{}),p?Object(m.jsx)(W.a,{sx:{display:"flex"},children:Object(m.jsx)(We.a,{})}):Object(m.jsx)(le.a,{fullWidth:!0,disabled:p,onClick:function(e){return g.apply(this,arguments)},sx:{my:1},variant:"contained",children:"Sign In"}),Object(m.jsxs)("p",{children:["Dont have an account? ",Object(m.jsx)(l.b,{to:"/register",children:"Create Account"})]}),Object(m.jsx)(le.a,{onClick:function(){t().then((function(){a.push(r)})).catch((function(e){console.log(e)}))},className:Be.a.textField,variant:"contained",children:"Sign In using Google"})]})})},He=n(123),Ge=n.n(He);function Je(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useRef)(),a=Object(c.useState)(""),r=Object(A.a)(a,2),i=r[0],o=r[1],s=Object(c.useState)(!1),u=Object(A.a)(s,2),d=u[0],x=u[1],h=Object(j.g)(),O=T().emailSignup;function f(){return(f=Object(De.a)(Te.a.mark((function c(a){return Te.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(a.preventDefault(),t.current.value===n.current.value){c.next=3;break}return c.abrupt("return",o("Passwords do not match"));case 3:return c.prev=3,o(""),x(!0),c.next=8,O(e.current.value,t.current.value);case 8:h.push("/"),c.next=15;break;case 11:c.prev=11,c.t0=c.catch(3),console.log(c.t0),o("Failed to create an account.Check if email is valid or password is atleast 6 charecters long");case 15:x(!1);case 16:case"end":return c.stop()}}),c,null,[[3,11]])})))).apply(this,arguments)}return Object(m.jsx)(b.a,{sx:{width:"30%",textAlign:"center",my:20},children:Object(m.jsxs)("div",{className:Ge.a.form,children:[Object(m.jsx)("h2",{children:"Register"}),i&&Object(m.jsx)(Pe.a,{severity:"error",children:i}),Object(m.jsx)(Q.a,{fullWidth:!0,inputRef:e,sx:{},id:"outlined-basic",label:"Email",variant:"outlined"}),Object(m.jsx)("br",{}),Object(m.jsx)(Q.a,{fullWidth:!0,inputRef:t,type:"password",sx:{},id:"outlined-basic",label:"Password",variant:"outlined"}),Object(m.jsx)("br",{}),Object(m.jsx)(Q.a,{fullWidth:!0,inputRef:n,type:"password",sx:{},id:"outlined-basic",label:"Re-Enter Password",variant:"outlined"}),Object(m.jsx)("br",{}),d?Object(m.jsx)(W.a,{sx:{display:"flex"},children:Object(m.jsx)(We.a,{})}):Object(m.jsx)(le.a,{fullWidth:!0,disabled:d,onClick:function(e){return f.apply(this,arguments)},sx:{},variant:"contained",children:"Register"}),Object(m.jsxs)("p",{children:["Already have an account? ",Object(m.jsx)(l.b,{to:"/login",children:"Login"})]})]})})}function Ke(){return Object(m.jsxs)(b.a,{sx:{msx:"auto",textAlign:"center",my:20},children:[Object(m.jsx)("h1",{children:"About Us"}),Object(m.jsx)("p",{children:"Book Worm  is an online bookstore with a mission to financially support local, independent bookstores. We believe that bookstores are essential to a healthy culture. They\u2019re where authors can connect with readers, where we discover new writers, where children get hooked on the thrill of reading that can last a lifetime. They\u2019re also anchors for our downtowns and communities. As more and more people buy their books online, we wanted to create an easy, convenient way for you to get your books and support bookstores at the same time."}),Object(m.jsx)("p",{children:"By design, we give away over 75% of our profit margin to stores, publications, authors and others who make up the thriving, inspirational culture around books!"}),Object(m.jsx)("p",{children:"We hope that Book Worm can help strengthen the fragile ecosystem and margins around bookselling and keep local bookstores an integral part of our culture and communities."})]})}var Ue=n(124),Me=n.n(Ue);function Ye(){return Object(m.jsx)(b.a,{sx:{width:"40%",mx:"auto",textAlign:"center",my:25},children:Object(m.jsxs)("div",{className:Me.a.form,children:[Object(m.jsx)("h2",{children:"Contact Us"}),Object(m.jsx)(Q.a,{sx:{width:1,my:1},id:"outlined-basic",label:"Name",variant:"outlined"}),Object(m.jsx)("br",{}),Object(m.jsx)(Q.a,{sx:{width:1,my:1},id:"outlined-basic",label:"Email",variant:"outlined"}),Object(m.jsx)("br",{}),Object(m.jsx)(Q.a,{sx:{width:1,my:1},id:"outlined-multiline-static",label:"Message",multiline:!0,rows:4}),Object(m.jsx)("br",{}),Object(m.jsx)(le.a,{sx:{width:1,my:1},variant:"contained",children:"Send"})]})})}var ze=n(220),Ve=n(237),$e=n(214),Ze=function(){var e=function(){var e=Object(De.a)(Te.a.mark((function e(t,n,c,a,r,i){var o,s;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={user:t,email:n,name:c,address:a,phone:r,order:i},e.next=3,fetch("https://book-worm-8d826-default-rtdb.asia-southeast1.firebasedatabase.app/orders.json",{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 3:return s=e.sent,e.abrupt("return",s.json());case 5:case"end":return e.stop()}}),e)})));return function(t,n,c,a,r,i){return e.apply(this,arguments)}}();return[e]};function Xe(){var e=Object(c.useContext)(V),t=("$".concat(e.totalAmount.toFixed(2)),T().user),n=Object(c.useState)(""),a=Object(A.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(!1),s=Object(A.a)(o,2),l=(s[0],s[1]),u=Object(j.g)(),d=Object(c.useRef)(),h=Object(c.useRef)(),O=Object(c.useRef)(),f=Object(c.useRef)(),p=Ze(),v=Object(A.a)(p,1)[0],g=0;e.items.forEach((function(e){g+=e.price*e.quantity}));var y={items:e.items,total:g},k=function(){var n=Object(De.a)(Te.a.mark((function n(c){return Te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.preventDefault(),""!=d.current.value){n.next=3;break}return n.abrupt("return",i("Name is required"));case 3:if(""!=h.current.value){n.next=5;break}return n.abrupt("return",i("Shipping address is required"));case 5:if(""!=O.current.value){n.next=7;break}return n.abrupt("return",i("Phone number is required"));case 7:if(0!=f.current.checked){n.next=9;break}return n.abrupt("return",i("You must accept the terms"));case 9:return n.prev=9,i(""),l(!0),n.next=14,v(t.uid,t.email,d.current.value,h.current.value,O.current.value,y).then((function(t){l(!1),localStorage.removeItem("shopping_cart"),u.push("./orderPlaced"),e.clearCart(),console.log(t)}));case 14:n.next=20;break;case 16:n.prev=16,n.t0=n.catch(9),i(n.t0),l(!1);case 20:case"end":return n.stop()}}),n,null,[[9,16]])})));return function(e){return n.apply(this,arguments)}}();return Object(m.jsx)(b.a,{component:"main",maxWidth:"xs",children:Object(m.jsxs)(W.a,{sx:{marginTop:25,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(m.jsx)(ze.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(m.jsx)(_.a,{})}),Object(m.jsx)(x.a,{component:"h1",variant:"h5",children:"Checkout"}),r&&Object(m.jsx)(Pe.a,{severity:"error",children:r}),Object(m.jsxs)(W.a,{sx:{mt:3},children:[Object(m.jsxs)(ee.a,{container:!0,spacing:2,children:[Object(m.jsx)(ee.a,{item:!0,xs:12,children:Object(m.jsx)(Q.a,{inputRef:d,autoComplete:"given-name",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"Name",autoFocus:!0})}),Object(m.jsx)(ee.a,{item:!0,xs:12,children:Object(m.jsx)(Q.a,{inputRef:h,required:!0,fullWidth:!0,id:"shipping",label:"Shipping Address",name:"shipping",autoComplete:"shipping"})}),Object(m.jsx)(ee.a,{item:!0,xs:12,children:Object(m.jsx)(Q.a,{inputRef:O,required:!0,fullWidth:!0,name:"phone",label:"phone",type:"phone",id:"phone"})}),Object(m.jsx)(ee.a,{item:!0,xs:12,children:Object(m.jsx)(Ve.a,{required:!0,control:Object(m.jsx)($e.a,{inputRef:f,color:"primary"}),label:"I accept the terms and conditions."})})]}),Object(m.jsx)(le.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:k,children:"Place Order"})]})]})})}var Qe=n(126),et=["children"],tt=function(e){var t=e.children,n=Object(Qe.a)(e,et),c=T(),a=c.user;return c.loading?"loading":Object(m.jsx)(j.b,Object(fe.a)(Object(fe.a)({},n),{},{render:function(e){var n=e.location;return a.email?t:Object(m.jsx)(j.a,{to:{pathname:"/login",state:{from:n}}})}}))};function nt(){return Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:"Thank You your Order has beed placed"})})}function ct(){return Object(m.jsx)(F,{children:Object(m.jsxs)(_e,{children:[Object(m.jsx)(Oe,{children:Object(m.jsx)(l.a,{children:Object(m.jsxs)(Ee,{children:[Object(m.jsx)($,{}),Object(m.jsxs)(j.d,{children:[Object(m.jsx)(j.b,{exact:!0,path:"/",children:Object(m.jsx)(be,{})}),Object(m.jsx)(j.b,{path:"/home",children:Object(m.jsx)(be,{})}),Object(m.jsx)(j.b,{path:"/shop",children:Object(m.jsx)(de,{})}),Object(m.jsx)(j.b,{path:"/login",children:Object(m.jsx)(Le,{})}),Object(m.jsx)(j.b,{path:"/register",children:Object(m.jsx)(Je,{})}),Object(m.jsx)(j.b,{path:"/about",children:Object(m.jsx)(Ke,{})}),Object(m.jsx)(j.b,{path:"/contact",children:Object(m.jsx)(Ye,{})}),Object(m.jsx)(j.b,{path:"/cart",children:Object(m.jsx)(Ne,{})}),Object(m.jsx)(tt,{path:"/checkout",children:Object(m.jsx)(Xe,{})}),Object(m.jsx)(tt,{path:"/orderPlaced",children:Object(m.jsx)(nt,{})}),Object(m.jsx)(j.b,{path:"/book/:id",children:Object(m.jsx)(Re,{})}),Object(m.jsx)(j.b,{path:"*",children:Object(m.jsx)(Z,{})})]})]})})}),Object(m.jsx)(f,{})]})})}var at=n(63),rt=n(107),it=Object(rt.a)({palette:{primary:{main:"#973F32"},secondary:{main:"#403020"},error:{main:at.a.A400}}});i.a.render(Object(m.jsxs)(s.a,{theme:it,children:[Object(m.jsx)(o.a,{}),Object(m.jsx)(ct,{})]}),document.querySelector("#root"))},76:function(e,t,n){e.exports={Nav_link:"Header_Nav_link__20vVE",cart:"Header_cart__1NrM1",Logo:"Header_Logo__3B7Kj",activeRoute:"Header_activeRoute__1qyF8"}},77:function(e,t,n){e.exports={"cart-item":"CartItem_cart-item__126BN",summary:"CartItem_summary__17YD3",price:"CartItem_price__1JWf1",amount:"CartItem_amount__7dlpR",actions:"CartItem_actions__aABdG"}},78:function(e,t,n){e.exports={"cart-items":"Cart_cart-items__RvmGb",total:"Cart_total__1vGjb",actions:"Cart_actions__1FxJK","button--alt":"Cart_button--alt__U2G8O",button:"Cart_button__14HZ8"}},86:function(e,t,n){e.exports={Nav_link:"Navbar_Nav_link__Nlkmb"}}},[[154,1,2]]]);
//# sourceMappingURL=main.271cc1f6.chunk.js.map